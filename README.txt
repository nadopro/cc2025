설명 자료11
1ds
1. download xampp
2. download visual code

강의자용 컴퓨터에 있는 데이터의 실시간 확인

https://github.com/nadopro
https://github.com/nadopro/cc2025

https://w3schools.com

copilot
gemini
perplexity ai
claude ai


개와 고양이가 컴퓨터앞에서 키보드를 타이핑하고 있는 그림을 사진처럼 그려줘.

개와 고양이가 컴퓨터앞에서 키보드를 타이핑하고 있는 그림을 사진처럼 그려줘.
개와 고양이는 의인화해서 캐릭처럼 그려줘.
개와 고양이의 크기는 비슷하게 그려줘.
가로형으로 그려줘.

Prompt : 프롬프트
1. 닫힌 질문
2. 출력은 내가 정한다.


역할: 한문 고서 번역 전문가
목적: 한문 문장을 한글로 번역하거나, 한글을 한문으로 번역하기
동작:
한문을 입력하면 자동으로 한글로 번역해 줘.
한글 문장을 입력하면 자동으로 한문 문장으로 번역해 줘.
그런데 한글로 번역할 때는 3개의 안을 제시해 줘.
1안: 가장 모범적인 번역
2안: 초등학생도 알 수 있는 쉬운 용어로 번역
3안: 한문학과 학부생이 번역한 것처럼 번역하기
출력: 위 조건에 맞춰 3개의 안을 각각 출력하기.


역할: 한문학과 학생회장
목적: 가을 인문대학 체육대회 참가 독려
동작: 한문학과 학부생부들에게 보낼 이메일 초안 만들기
앞 부분은 가을로 접어드는 날씨와 관련된 가벼운 인사로 시작
인문대학 체육대회를 하는데, 기간은 2025-10-20일 
09:00 ~ 18:00
학부생들의 참여를 독려하는 이메일 초안을 만드는데,
3문단의 참여를 절실히 원하는 느낌을 담아줘.
맺음말은, 환절기 건강관리 조심하고,
체육대회에서 꼭 보고 싶은 마음 담기.
출력: 앞의 동작을 준수


1.html 파일을 하나 만들고 싶어.
반응형 홈페이지를 위해 Bootstrap 5를 이용해 줘.
메뉴는 메뉴1, 메뉴2, 메뉴3 이 있어.
메뉴1에는 메뉴1-1, 메뉴 1-2
메뉴2에는 메뉴2-1, 메뉴2-2, 메뉴 2-3
메뉴3에는 메뉴3-1, 메뉴 3-2가 있어.
이 메뉴는 드랍다운 메뉴로 구성돼.

몸체에는 다음과 같은 내용이 있어.
충남대학교 한문학과 문화콘텐츠실습

http://localhost

http://localhost/1.html

리비전(Revision)

이렇게 만들어진 코드는 비슷하게 동작하지만 다음과 같이 동작하도록 수정해 줘.
Body의 내용이 아무리 적어도
화면 하단의 사이트정보 또는 카피라이트 부분이 화면의 맨 아래에 위치하도록 변경하고 싶어.ㅣ


HTTP의 에러코드

1xx: Trying
2xx: Ok
3xx: Temporary Error / Redirection Error
4xx: Permanent Error / Client Error
5xx: Server Error
6xx: Global Error


https://www.daum.net/


나는 xampp를 윈도우에서 사용하고 있어.
매번 컴퓨터를 켤때마다 xampp_control를 시작하는데,
이것을 자동으로 해주고 싶어.
이 방법을 설명해 줘.

HTML에서 텍스트와 관련된 자주 사용하는 태그 10개를 
예제로 보여줘.


줄바꿈을 할 때는 <br> 태그를 사용한다.

줄바꿈을 할 때는 &lt;br&gt; 태그를 사용한다.

<b>동해</b>물과 <b><u>백두산</u>이<br> 마르고</b> 닳도록

w3schools.com


HTML5를 이용해 반응형 홈페이지를 만들려고 해.
Bootstrap5의 예제를 보고싶은데,

container와 container-fluid의 예를 함께 포함하고 싶어.
배경색으로 danger, success 등 텍스트로 색을 표현하는 예를 보고 싶어.



HTML5를 이용해 반응형 홈페이지를 만들려고 해.
Bootstrap5의 예제를 보고싶은데,

container에 2025년 9월의 달력을 그리고 싶어.
1일은 월요일이고, 30일까지 있어.
달력을 그릴때, Bootstrap5의 table을 이용해 그려줘.
달력을 일, 월 ~ 토까지로 표현해 줘.

==========================================
리비전(REVISION)

여기에 다음의 기능을 추가하고 싶어.
일요일은 danger로, 토요일은 primary로 텍스트를 출력하고 싶어.

==========================================
HTML5를 이용해 반응형 홈페이지를 만들려고 해.
Bootstrap5의 예제 중에서 <form>의 다양한 입력을 확인하려고 해.
다음을 포함해서 예제를 만들어 줘.
필요한 경우, placeholder를 표시해 줘.

1. 입력 텍스트 : 로그인할 때, id입력하는 경우
2. 비밀번호 입력 : 패스워드 입력할때
3. 성별 선택 : 라디오버튼
4. select : 지역선택(서울, 경기, 대전, 기타)
5. 체크박스 : 여러 취미를 복수로 선택하는 경우
6. textarea : 여러줄 입력
7. number : 최대값 100, 최소값 0, 입력 70, 간격 10
8. 색상 선택기(color picker)
9. 날짜 선택기(date picker)
10. url, email 선택하는 예제

===========================================
2025-09-24
===========================================

1. 변수
2. 조건문
3. 반복문

PHP를 처음 공부하려고 하는데,
7.php파일을 만들어줘.
HTML의 헤더와 푸터까지 포함해 줘.
다음을 어떻게 사용하는지 예제를 하나로 만들어 줘.

1. 변수
2. 조건문
3. 반목문

-----------------------------------------------

++, -- 같은 문법을 더 이해하기 쉬운 문법으로 바꿔줘.
이때 반복문은 1부터 100까지 출력하는데,
이중에서 홀수만 출력하도록 바꿔줘.

-----------------------------------------------

9.php를 만들건데 HTML 헤더를 포함해 줘.
1부터 100까지 출력하는데, 다음 조건에 맞는 수만 출력해 줘.
숫자에 3, 6, 9 중 하나라도 있는 것은 제외해

-----------------------------------------------
아래와 같은 코드와 똑같이 동작하도록 PHP로 단순화해 줘.

<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>2025년 9월 달력</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h1 class="mb-4">2025년 9월 달력</h1>
    <table class="table table-bordered text-center">
      <thead class="table-light">
        <tr>
          <th class="text-danger">일</th>
          <th>월</th>
          <th>화</th>
          <th>수</th>
          <th>목</th>
          <th>금</th>
          <th class="text-primary">토</th>
        </tr>
      </thead>
      <tbody>
        <!-- 1주차: 1일이 월요일 -->
        <tr>
          <td class="text-danger"></td>
          <td>1</td>
          <td>2</td>
          <td>3</td>
          <td>4</td>
          <td>5</td>
          <td class="text-primary">6</td>
        </tr>
        <!-- 2주차 -->
        <tr>
          <td class="text-danger">7</td>
          <td>8</td>
          <td>9</td>
          <td>10</td>
          <td>11</td>
          <td>12</td>
          <td class="text-primary">13</td>
        </tr>
        <!-- 3주차 -->
        <tr>
          <td class="text-danger">14</td>
          <td>15</td>
          <td>16</td>
          <td>17</td>
          <td>18</td>
          <td>19</td>
          <td class="text-primary">20</td>
        </tr>
        <!-- 4주차 -->
        <tr>
          <td class="text-danger">21</td>
          <td>22</td>
          <td>23</td>
          <td>24</td>
          <td>25</td>
          <td>26</td>
          <td class="text-primary">27</td>
        </tr>
        <!-- 5주차 -->
        <tr>
          <td class="text-danger">28</td>
          <td>29</td>
          <td>30</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-primary"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


----------------------------------------------------

<html>
<head>

</head>
<body>
1<br>
2<br>
<?php
    echo "프로그램 영역";
?>

HTML 영역
<?php
    프로그램 영역
?>
</body>
</html>

------------------------------------------

자바스크립트의 예를 확인하기 위해 다음 조건에 맞는 예제 HTML을 만들어 줘.

입력창에 숫자를 입력 받고, 입력창 옆에 버튼을 클릭하면
자바스크립트로 입력한 값을 alert()해줘.
만약에 입력한 값이 숫자가 아니면 "숫자를 입력하세요"라고 confirm() 해줘.


localhost/phpmyadmin

https://www.security.org/how-secure-is-my-password/


Excel ==> DB
Sheet  ==> table


회원관리를 위해, id, pass, name만 있는 mysql 
데이터베이스 테이블을 만들어 줘.


CREATE TABLE first (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    name VARCHAR(100) NOT NULL
);

table 이름을 first로 바꾸어 등록했어.
데이터를 넣는 예제를 10개만 만들어 줘.
user_id는 무작위로 만들고 비밀번호는 모두 "1111"로 해줘.
이름은 조선시대 역사인물로 임의로 정해 줘.

INSERT INTO first (user_id, password, name) VALUES
('hong123', '1111', '홍길동'),
('yi456', '1111', '이순신'),
('sejo789', '1111', '세조'),
('jang999', '1111', '장영실'),
('jeong321', '1111', '정약용'),
('kim654', '1111', '김정희'),
('gang852', '1111', '강감찬'),
('sin147', '1111', '신사임당'),
('yulgok258', '1111', '이율곡'),
('toegye369', '1111', '이퇴계');


INSERT INTO first (user_id, password, name) VALUES
('cjpark', password('1111'), '박채정')


앞의 first 테이블에서 성이 "이"씨만 찾아서 이름의 오름차순으로 검색해 줘.

SELECT *
FROM first
WHERE name LIKE '이%'
ORDER BY name ASC;


db user : cnu
db name : cnu
db pass : 1111

로 mysql이 설정되어 있어.

connectDB()를 정의하고 싶은데,
앞의 사용자 정보를 이용해 데이터베이스에 접속한 후,
성공하면 $conn을 반환하는 PHP 코드를 만들고 싶어
이를 만족하는 db.php 파일을 만들어 줘.
이때 mysqli를 이용해 만들어 줘.

다음과 같은 조건을 만족하는 12.php 파일을 만들어 줘.
HTML5와 Bootstrap5를 이용한 코드를 생성.
<body>에는 <div class='container'>를 포함하고 싶어.
문서의 제목은 "DB 연결 테스트"이고,

connectDB()라는 함수를 db.php에 만들어 놓았으니,
이 파일을 include 해 줘.
이때 mysqli_query()를 이용하고 싶어.


------------------------------------

회원가입을 위한 테이블을 만들고 싶어.

table name : users
필드들은 다음이 있어.
idx : auto increment, primary key
그외에 필요한 항목 : id (unique), pass, name, mobile


CREATE TABLE users (
    idx INT AUTO_INCREMENT PRIMARY KEY,      -- 고유 번호, 자동 증가
    id VARCHAR(50) NOT NULL UNIQUE,          -- 회원 아이디, 중복 방지
    pass VARCHAR(255) NOT NULL,              -- 비밀번호 (실제 서비스에서는 해싱 저장 권장)
    name VARCHAR(100) NOT NULL,              -- 회원 이름
    mobile VARCHAR(20) NOT NULL              -- 휴대폰 번호
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


이 테이블에 데이터를 10개 넣어줘.
name 은 조선시대 역사 인물로 무작위로 넣어줘.
mobile : 010-????-???? 형태의 랜덤값
id는 성씨(영문) + 전화번호뒤4자리
비밀번호는 암호화하지 않은 "전화번호 뒤 4자리"


INSERT INTO users (id, pass, name, mobile) VALUES
('admin', '1111', '관리자', '010-1111-1111'),
('lee1234', '1234', '이순신', '010-2345-1234'),
('jeong5678', '5678', '정약용', '010-8765-5678'),
('kim9012', '9012', '김정희', '010-3456-9012'),
('kang3456', '3456', '강감찬', '010-1122-3456'),
('hong7890', '7890', '홍길동', '010-5566-7890'),
('shin1122', '1122', '신사임당', '010-9911-1122'),
('jang3344', '3344', '장영실', '010-2233-3344'),
('sejo7788', '7788', '세조', '010-6677-7788'),
('yul9900', '9900', '이율곡', '010-8899-9900'),
('toe4455', '4455', '이퇴계', '010-3344-4455');

================= 2025-10-09 보강용 ==================

localhost/phpmyadmin

CREATE TABLE users (
    idx INT AUTO_INCREMENT PRIMARY KEY,      -- 고유 번호, 자동 증가
    id VARCHAR(50) NOT NULL UNIQUE,          -- 회원 아이디, 중복 방지
    pass VARCHAR(255) NOT NULL,              -- 비밀번호 (실제 서비스에서는 해싱 저장 권장)
    name VARCHAR(100) NOT NULL,              -- 회원 이름
    mobile VARCHAR(20) NOT NULL              -- 휴대폰 번호
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

1. 입력(삽입, insert)
insert into 테이블이름 (id, pass, name, mobile) 
    values ('필드1값', '필드2값', '필드3값', '010-1111-1111');
  
insert into 테이블이름 (id, pass, name, mobile) 
    values ('myid', 'mypass', '내이름', '010-1111-1111');

CREATE TABLE users (
    idx INT AUTO_INCREMENT PRIMARY KEY,      -- 고유 번호, 자동 증가
    id VARCHAR(50) NOT NULL UNIQUE,          -- 회원 아이디, 중복 방지
    pass VARCHAR(255) NOT NULL,              -- 비밀번호 (실제 서비스에서는 해싱 저장 권장)
    name VARCHAR(100) NOT NULL,              -- 회원 이름
    mobile VARCHAR(20) NOT NULL              -- 휴대폰 번호
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
이렇게 만들어진 mysql 데이터베이스 테이블이 있어.
여기에 id, pass, name, mobile을 삽입하고 싶은데,
각각 myid, mypass, myname, 010-1111-1111 로 넣는 명령을 만들어 줘.

2. 검색(select)

SELECT 필드1, 필드2, 필드3 FROM 테이블이름 WHERE 조건;

SELECT id, name FROM users;
SELECT * FROM users;
SELECT * FROM users WHERE id='shin1122'

SELECT * FROM users ORDER BY name asc;
                                  desc;

SELECT * FROM users ORDER BY name asc limit 3, 5;

위 테이블에서 검색을 하고 싶어.
성이 "김"씨인 사람만 보고 싶어. 
SQL 명령어를 알려줘.

3. 수정(update)

UPDATE 테이블이름 SET id='홍길동', name='hong' WHERE 조건;

UPDATE users SET id='newid', name='내이름' WHERE idx='12';

위 테이블에서 idx가 12인 데이터를 찾아서 수정하고 싶어.
id='newid', name='내이름'으로 바꾸고 싶어.

4. 삭제(delete)

DELETE FROM 테이블명 WHERE 조건;

delete from users where idx='12';

위 테이블에서 idx가 12인 데이터를 삭제하기 위한 SQL 스크립트를 만들어줘.

DELETE FROM users
WHERE idx = 12;

1. 데이터 삽입 ---> INSERT INTO 테이블명 (필드1, 필드2, ...) VALUES ('값1', '값2', ..);
2. 데이터 검색 ---> SELECT * FROM 테이블명
     [WHERE 조건] [ORDER BY 원하는 순서] [LIMIT 어디부터, 몇개]
3. 데이터 변경 ---> UPDATE 테이블명 SET 필드1='값', 필드2='값2' WHERE 조건;
4. 데이터 삭제 ---> DELETE FROM 테이블명 조건;

INSERT, SELECT, UPDATE, DELETE

users 테이블에서 id에 't'가 들어가는 데이터를 찾고 싶어.
idx, id, name만 보고 싶어.
만약에 데이터가 여러개라면 name의 오름차순으로 정리하도록 SQL 명령을 만들어 줘.

SELECT idx, id, name
FROM users
WHERE id LIKE '%t%'
ORDER BY name ASC;

SQL의 약자가 뭐고 간단한 설명도 해 줘.

Structured Query Language

Query : 질의
INSERT : 삽입
UPDATE : 갱신
SELECT : 검색
DELETE : 삭제


CLI : Command Line Interface (명령으로만 질문하고 결과얻는 방법)
GUI : Graphical User Interface

검색 :
id, name, age

나이가 20살 이상인 사람을 찾는데, 나이의 오름차순으로 정렬해 줘.
만약에 나이가 같으면 이름의 오름차순으로 정렬차순으로 정렬해 줘.

=================== 보강 2 구조 잡기 ===================

Q
HTML5와 Bootstrap5를 이용해 다음과 같은 PHP 코드를 만들고 싶어.
전체적인 구조는 
1. HTML의 head
2. MENU
3. Body
4. 사이트 정보를 위한 Tail로 구성하려고 해.

첫번째 HTML의 HEAD는 <html> ~ <body> 직전까지의 코드를 
head.php에 넣고 싶어.
또, db.php를 만들어 놓았는데 connectDB()를 정의해 DB에 접속하는 코드를 
다음과 같이 만들어 놓았어. 이 코드를 include 하고 싶어.
<?php
function connectDB() {
    $host = "localhost";   // 보통 같은 서버에 있으면 localhost
    $user = "cnu";         // DB 사용자
    $pass = "1111";        // DB 비밀번호
    $dbname = "cnu";       // DB 이름

    // mysqli 객체 생성
    $conn = new mysqli($host, $user, $pass, $dbname);

    // 연결 확인
    if ($conn->connect_error) {
        die("Database connection failed: " . $conn->connect_error);
    }

    // 성공 시 $conn 반환
    return $conn;
}
?>

두번째 Body의 처음에는 Bootstrap5의 navbar를 이용해 상단 메뉴를 만들어서
menu.php로 넣고 싶어.
이 메뉴에는 3개의 대메뉴가 있어.
메뉴1, 메뉴2, 메뉴3이 있어.
메뉴1에는 메뉴1-1, 메뉴1-2, 메뉴1-3
메뉴2에는 메뉴2-1, 메뉴2-2
메뉴3에는 메뉴3-1, 메뉴3-2
가 있어. 드랍다운 형태의 메뉴로 만들어 줘.

세번째 메뉴 밑에는 내용이 들어가는 자리야.
index.php?cmd=login 와 같이 주소창에 입력된 cmd값을 보고
body의 내용을 결정할거야.

예를 들어 index.php처럼 cmd가 없으면 init.php를 include해 주고
만약 cmd가 test이면 include "test.php"와 같이 $cmd값으로 
화면에 출력할 코드를 결정하고 싶어.

마지막 tail에는 사이트 정보가 있는데 내용은 다음과 같아.
"충남대학교 한문학과 문화콘텐츠실습"이라고 놓고 싶어.
만약에 body의 내용이 너무 짧은 경우에도 tail(사이트정보)는 화면의 맨 아래에
배치되도록 하고 싶어.

이를 만족하는 코드 전체를 index.php 파일로 놓고 싶어.

=====================
이때, head.php, menu.php, tail.php 파일을 만들어 줘.
init.php파일에는 "첫 화면입니다."라고만 출력해 줘.


1. 할일
ㄱ. head.php 만들기
ㄴ. menu.php 만들기
ㄷ. tail.php
ㄹ. init.php


https://www.w3schools.com/bootstrap5/


intro.php 는 cmd가 intro일때 나오는 페이지야.
이때 intro.php파일을 다음과 같이 만들어 줘.

<div class='container'>

</div>

이 속에 다음과 같은 정보를 넣어줘.

학과명 : 한문학과
위치 : 인문대학 201호
전화 : 042-821-0000


============================================

<div class="d-flex">
  <a class="btn btn-outline-light btn-sm" href="index.php?cmd=printLogin">로그인</a>
</div>

이렇게 menu.php의 후반부에 로그인하는 링크가 있어
이 링크를 클릭했을 때, cmd 값인 printLogin.php를 include 해 줄거야.
이 printLogin.php 파일을 만들고 싶어.

이에 해당하는 printLogin.php의 예제를 만들어 줘.
이때 실행을 하면 index.php?cmd=login 으로 이동하고 싶어.
즉, action='index.php?cmd=login'으로 설정해 줘.


이름짓기 : naming rule

printlogin.php
getmyfamilycount.php

1. 중간에 의미있는 단어의 첫글자를 대문자
printLogin.php
getMyFamilyCount.php

**카멜표기법**

connectDatabase()

2. 모두 소문자로 표기 ==> 의미단위마다 밑줄(_)연결

print_login.php
get_my_family_count.php

snake 표기법

=================================================
1. index.php
2. img/ la.jpg, ny.jpg, chicago.jpg
3. head.php, menu.php, tail.php, init.php
  printLogin.php, intro.php
=================================================


할 일: 로그인하기

로그인 방법 2가지

1. 세션을 이용하는 방법을
  로그인 정보를 서버가 관리

  보안에 유리
  - 서버가 할 일이 많아져서 부하(load)가 발생

2. 쿠키를 이용하는 방법 (localStorage를 이용하는 방법)

  로그인을 클라이언트가 관리
  서버는 사용자의 접속 여부를 알 지 못함.

idx INT AUTO_INCREMENT PRIMARY KEY,      -- 고유 번호, 자동 증가
    id VARCHAR(50) NOT NULL UNIQUE,          -- 회원 아이디, 중복 방지
    pass VARCHAR(255) NOT NULL,              -- 비밀번호 (실제 서비스에서는 해싱 저장 권장)
    name VARCHAR(100) NOT NULL,              -- 회원 이름
    mobile VARCHAR(20) NOT NULL              -- 휴대폰 번호
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


이 테이블이 ,id, pass와 비교해 로그인하고 싶어.
데이터베이스 연동은 이미 index.php파일에서
$conn = connectDB();

이렇게 접속은 다 성공한 상태야.
이 코드를 데이다음과 같이 로그인하는 코드의 샘플을 만들었어.
이 코드를 데이터베이스와 연동하고 싶어.

CREATE TABLE users (
    터베이스와 연동하도록 변경해 줘.

mysqli_query()를 사용할 거야.


<?php
    $id = $_POST["id"];
    $pass = $_POST["pass"];

    echo "id = $id <br>pass = $pass <br>";

    if($id == "test" and $pass == "1234")
    {
        $_SESSION["sino_id"] = $id;
        $_SESSION["sino_name"] = "한돌이";
    }else
    {
        
    }

?>


javascript:alert(document.cookie);

db.php
db.inc.php


=======================================
첨부한 그림과 같은 입력화면을 HTML5와 Bootstrap5로 만들려고 해.

텍스트를 입력하는 창(textarea)
  - 원문 텍스트 입력하는 곳

최소출현(input type = number)
  - 엔그램 분석을 할 때, 최소 출현하는 회수 지정

최대음절(input type = number)
  -n그램의 최대값, 예를 들어 3이면 1그램 ~ 3그램까지만 수행


표라인수(input type = number)
  - n 그램을 수행할 때, 표로 정리된 결과의 라인 수(두번째 첨부 처럼)

이때, 분석 버튼을 클릭하면 입력값에 맞도록
입력 아래에 표 형태로 엔그램 결과를 출력하는
PHP 예제를 만들어 줘.



==============================

<?php
// index.php
// UTF-8 고정
mb_internal_encoding('UTF-8');
mb_regex_encoding('UTF-8');

// 기본값
$minFreq   = isset($_POST['min_freq']) ? max(1, (int)$_POST['min_freq']) : 2;
$maxGram   = isset($_POST['max_gram']) ? max(1, min(10, (int)$_POST['max_gram'])) : 5; // 안전상 한도 10
$rowsLimit = isset($_POST['rows_limit']) ? max(1, (int)$_POST['rows_limit']) : 15;
$rawText   = isset($_POST['text']) ? trim($_POST['text']) : '';

$result = [];
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // 1) 전처리: 공백/구두점 제거 (문자/숫자만 유지)
    $clean = preg_replace('/[^\p{L}\p{N}]+/u', '', $rawText); // \p{L}=문자, \p{N}=숫자

    // 2) 문자 단위 토큰화 (음절=한 글자)
    $chars = preg_split('//u', $clean, -1, PREG_SPLIT_NO_EMPTY);

    // 3) n-gram 계산
    for ($n = 1; $n <= $maxGram; $n++) {
        $counts = [];
        $len = count($chars);
        if ($len < $n) { $result[$n] = []; continue; }

        for ($i = 0; $i <= $len - $n; $i++) {
            $gram = '';
            for ($k = 0; $k < $n; $k++) {
                $gram .= $chars[$i + $k];
            }
            if (!isset($counts[$gram])) $counts[$gram] = 0;
            $counts[$gram]++;
        }

        // 최소출현수 필터
        $counts = array_filter($counts, function ($c) use ($minFreq) { return $c >= $minFreq; });

        // 빈도 내림차순, 동률이면 사전순
        uksort($counts, function ($a, $b) use ($counts) {
            if ($counts[$a] === $counts[$b]) return strcmp($a, $b);
            return ($counts[$a] > $counts[$b]) ? -1 : 1;
        });

        // 상위 rowsLimit 개까지 자르기
        $top = array_slice($counts, 0, $rowsLimit, true);

        // "문자열 빈도" 형태의 표시 텍스트로 변환
        $display = [];
        foreach ($top as $g => $c) {
            $display[] = $g . ' ' . $c;
        }
        $result[$n] = $display;
    }
}
?>

  <style>
    textarea { min-height: 320px; }
    .btn-analyze { height: 100%; width: 100%; font-weight: 600; }
    .table thead th { white-space: nowrap; }
  </style>

    <h1 class="h4 mb-3">엔그램(음절) 분석</h1>

  <form method="post" class="row g-3">
    <div class="col-12 col-lg-9">
      <label for="text" class="form-label">텍스트를 입력하는 곳</label>
      <textarea class="form-control" id="text" name="text"
                placeholder="원문 텍스트 입력하는 곳"><?= htmlspecialchars($rawText ?? '', ENT_QUOTES | ENT_SUBSTITUTE, 'UTF-8') ?></textarea>
    </div>

    <div class="col-12 col-lg-3 d-grid">
      <label class="form-label invisible d-none d-lg-block">분석</label>
      <button type="submit" class="btn btn-primary btn-analyze">분석</button>
    </div>

    <div class="col-12 col-md-4">
      <label for="min_freq" class="form-label">최소출현</label>
      <input type="number" class="form-control" id="min_freq" name="min_freq" min="1" value="<?= (int)$minFreq ?>">
      <div class="form-text">엔그램 최소 출현 횟수</div>
    </div>

    <div class="col-12 col-md-4">
      <label for="max_gram" class="form-label">최대음절</label>
      <input type="number" class="form-control" id="max_gram" name="max_gram" min="1" max="10" value="<?= (int)$maxGram ?>">
      <div class="form-text">예: 3 이면 1~3그램 계산</div>
    </div>

    <div class="col-12 col-md-4">
      <label for="rows_limit" class="form-label">표라인수</label>
      <input type="number" class="form-control" id="rows_limit" name="rows_limit" min="1" value="<?= (int)$rowsLimit ?>">
      <div class="form-text">표에 표시할 상위 라인 수</div>
    </div>
  </form>

  <?php if ($_SERVER['REQUEST_METHOD'] === 'POST'): ?>
    <hr class="my-4">

    <?php
      // 테이블 행 수는 각 n에서의 최대 길이로 맞춤
      $maxRows = 0;
      for ($n = 1; $n <= $maxGram; $n++) { $maxRows = max($maxRows, count($result[$n] ?? [])); }
      $maxRows = max($maxRows, $rowsLimit); // UI와 비슷하게 rowsLimit 기준으로도 확보
    ?>

    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-secondary">
          <tr>
            <th class="text-center" style="width:60px">#</th>
            <?php for ($n = 1; $n <= $maxGram; $n++): ?>
              <th class="text-center"><?= $n ?>음절</th>
            <?php endfor; ?>
          </tr>
        </thead>
        <tbody>
        <?php for ($r = 0; $r < $maxRows; $r++): ?>
          <tr>
            <td class="text-center"><?= $r + 1 ?></td>
            <?php for ($n = 1; $n <= $maxGram; $n++): ?>
              <td><?= htmlspecialchars($result[$n][$r] ?? '-', ENT_QUOTES | ENT_SUBSTITUTE, 'UTF-8') ?></td>
            <?php endfor; ?>
          </tr>
        <?php endfor; ?>
        </tbody>
      </table>
    </div>
  <?php endif; ?>
</div>


이렇게 기본 코드를 만들었어.
그런데 이 프로그램은 한자 분석용으로 만들고 싶어.
한자는 띄어쓰기, 구둣점을 기준으로 각각 구분하고
영어, 숫자, 구두점을 제외한 특수문자는 모두 불필요해.
이를 반영해서 현재 제시한 코드 형태로 수정해 줘.

WYSIWYG (위지윅 게시판)

What You See Is What You get_my_family_count

우리 홈페이지는 index.php?cmd=wysiwyg 이렇게 접속하면
index.php의 몸체에서 include "wysiwyg.php"; 를 처리하는 구조야.

이때 우리는 wysiwyg.php을 만들거야.

게시판에서 WYSIWYG 입력부분을 만들거야.

첫줄은 제목
둘째줄은 Bold, UnderLine, Italic, 텍스트빨간색, 텍스트 검정색 버튼이 있어.
세번째 줄은 게시판의 텍스트 입력하는 부분
네번째 줄은 등록 버튼으로 구성된 
wysiwyg.php 파일을 만들어 줘.

<?php
  session_save_path("sess");
  session_start();

  include "db.php";
  include "head.php";

  $conn = connectDB();
?>

<body class="d-flex flex-column min-vh-100">

<?php
  include "menu.php";

    // localhost/index.php?cmd=test
?>

<main class="container my-4 flex-grow-1">
<?php
  if(!isset($_GET['cmd']))
    $cmd = "init";
  else
    $cmd = $_GET['cmd'];

if (is_file("$cmd.php")) {
    include "$cmd.php";
} else {
    http_response_code(404);
    echo '<div class="alert alert-danger">요청하신 페이지를 찾을 수 없습니다.</div>';
}
?>
</main>

<?php
  include "tail.php";
?>


===============================================

게시판을 위해 데이터베이스 테이블(board)을 만들고 싶어.
다음 조건을 만족하는 테이블을 만들어 줘.

idx : primary key, auto_increment
bid : 게시판의 아이디, 1: 공지사항, 2: 자유게시판
title : 게시글의 제목
html : 게시글의 내용
id : 작성자의 아이디
name : 작성자의 이름
time : 작성시간, datetime
hit : 읽은 카운트
notice : 공지사항 여부, 1: 공지글, 0: 일반글


CREATE TABLE board (
  idx INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,        -- 기본키
  bid TINYINT UNSIGNED NOT NULL DEFAULT 1,            -- 게시판 ID (1: 공지사항, 2: 자유게시판)
  title VARCHAR(255) NOT NULL,                        -- 게시글 제목
  html MEDIUMTEXT NOT NULL,                           -- 게시글 내용 (HTML)
  id VARCHAR(50) NOT NULL,                            -- 작성자 ID
  name VARCHAR(50) NOT NULL,                          -- 작성자 이름
  time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,   -- 작성시간
  hit INT UNSIGNED NOT NULL DEFAULT 0,                -- 조회수
  notice TINYINT(1) NOT NULL DEFAULT 0,               -- 공지글 여부 (1: 공지글, 0: 일반글)
  INDEX (bid),
  INDEX (notice),
  INDEX (time)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;